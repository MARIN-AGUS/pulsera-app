{"ast":null,"code":"var _jsxFileName = \"/Users/aguspena/Downloads/pulsera-app-con-mapa-dinamico/pulsera-frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [ubicaciones, setUbicaciones] = useState([]);\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    googleMapsApiKey: 'AIzaSyA-JDW1_wZjD9uXS_v-LpOAs8YXb1E7FhI' // ← Cambia esto por tu API Key real\n  });\n  useEffect(() => {\n    const fetchUbicaciones = async () => {\n      try {\n        const res = await axios.get('http://localhost:5000/api/ubicacion');\n        setUbicaciones(res.data);\n      } catch (err) {\n        console.error('Error al obtener ubicaciones:', err);\n      }\n    };\n    fetchUbicaciones();\n    const interval = setInterval(fetchUbicaciones, 10000); // Actualiza cada 10 segundos\n    return () => clearInterval(interval);\n  }, []);\n  return isLoaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n      center: ubicaciones[0] || {\n        lat: 19.4326,\n        lng: -99.1332\n      },\n      zoom: 15,\n      mapContainerStyle: {\n        width: '100%',\n        height: '100%'\n      },\n      children: ubicaciones.map((u, i) => /*#__PURE__*/_jsxDEV(Marker, {\n        position: {\n          lat: u.latitud,\n          lng: u.longitud\n        },\n        label: u.dispositivoId\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando mapa...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"7+szEei1wbdhnMH/Sp+C6e5Fcks=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","axios","GoogleMap","Marker","useJsApiLoader","jsxDEV","_jsxDEV","App","_s","ubicaciones","setUbicaciones","isLoaded","googleMapsApiKey","fetchUbicaciones","res","get","data","err","console","error","interval","setInterval","clearInterval","style","width","height","children","center","lat","lng","zoom","mapContainerStyle","map","u","i","position","latitud","longitud","label","dispositivoId","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/aguspena/Downloads/pulsera-app-con-mapa-dinamico/pulsera-frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\n\nconst App = () => {\n  const [ubicaciones, setUbicaciones] = useState([]);\n\n  const { isLoaded } = useJsApiLoader({\n    googleMapsApiKey: 'AIzaSyA-JDW1_wZjD9uXS_v-LpOAs8YXb1E7FhI', // ← Cambia esto por tu API Key real\n  });\n\n  useEffect(() => {\n    const fetchUbicaciones = async () => {\n      try {\n        const res = await axios.get('http://localhost:5000/api/ubicacion');\n        setUbicaciones(res.data);\n      } catch (err) {\n        console.error('Error al obtener ubicaciones:', err);\n      }\n    };\n\n    fetchUbicaciones();\n    const interval = setInterval(fetchUbicaciones, 10000); // Actualiza cada 10 segundos\n    return () => clearInterval(interval);\n  }, []);\n\n  return isLoaded ? (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <GoogleMap\n        center={ubicaciones[0] || { lat: 19.4326, lng: -99.1332 }}\n        zoom={15}\n        mapContainerStyle={{ width: '100%', height: '100%' }}\n      >\n        {ubicaciones.map((u, i) => (\n          <Marker\n            key={i}\n            position={{ lat: u.latitud, lng: u.longitud }}\n            label={u.dispositivoId}\n          />\n        ))}\n      </GoogleMap>\n    </div>\n  ) : (\n    <div>Cargando mapa...</div>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,EAAEC,cAAc,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3E,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAM;IAAEW;EAAS,CAAC,GAAGP,cAAc,CAAC;IAClCQ,gBAAgB,EAAE,yCAAyC,CAAE;EAC/D,CAAC,CAAC;EAEFb,SAAS,CAAC,MAAM;IACd,MAAMc,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,qCAAqC,CAAC;QAClEL,cAAc,CAACI,GAAG,CAACE,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEF,GAAG,CAAC;MACrD;IACF,CAAC;IAEDJ,gBAAgB,CAAC,CAAC;IAClB,MAAMO,QAAQ,GAAGC,WAAW,CAACR,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;IACvD,OAAO,MAAMS,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOT,QAAQ,gBACbL,OAAA;IAAKiB,KAAK,EAAE;MAAEC,KAAK,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAQ,CAAE;IAAAC,QAAA,eAC9CpB,OAAA,CAACJ,SAAS;MACRyB,MAAM,EAAElB,WAAW,CAAC,CAAC,CAAC,IAAI;QAAEmB,GAAG,EAAE,OAAO;QAAEC,GAAG,EAAE,CAAC;MAAQ,CAAE;MAC1DC,IAAI,EAAE,EAAG;MACTC,iBAAiB,EAAE;QAAEP,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO,CAAE;MAAAC,QAAA,EAEpDjB,WAAW,CAACuB,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACpB5B,OAAA,CAACH,MAAM;QAELgC,QAAQ,EAAE;UAAEP,GAAG,EAAEK,CAAC,CAACG,OAAO;UAAEP,GAAG,EAAEI,CAAC,CAACI;QAAS,CAAE;QAC9CC,KAAK,EAAEL,CAAC,CAACM;MAAc,GAFlBL,CAAC;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGP,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACO;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC,gBAENrC,OAAA;IAAAoB,QAAA,EAAK;EAAgB;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAC3B;AACH,CAAC;AAACnC,EAAA,CAzCID,GAAG;EAAA,QAGcH,cAAc;AAAA;AAAAwC,EAAA,GAH/BrC,GAAG;AA2CT,eAAeA,GAAG;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}